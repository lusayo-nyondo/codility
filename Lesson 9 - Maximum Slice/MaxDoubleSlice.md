

============================
You have an array, and you need to pick three "boundary" indices $(X, Y, Z)$.These three points "cut" the array into two slices.You ignore the values at $X$, $Y$, and $Z$ themselves.You want to maximize the sum of everything in between them.The "Olympiad" InsightThe key is to realize that any double slice is just two standard slices meeting at a middle point $Y$.A "Left Slice" ending at $Y-1$.A "Right Slice" starting at $Y+1$.If you can pre-calculate the best possible "Left Slice" for every potential $Y$, and the best "Right Slice" for every potential $Y$, you simply add them together and find the maximum sum.The Algorithm: Bidirectional Kadaneâ€™sForward Pass: Create an array max_ending_at[i] that stores the maximum subarray sum ending at index $i$ (using Kadane's logic).Backward Pass: Create an array max_starting_at[i] that stores the maximum subarray sum starting at index $i$ (Kadane's in reverse).Final Pass: Iterate through every possible "middle" point $Y$ and calculate max_ending_at[Y-1] + max_starting_at[Y+1].